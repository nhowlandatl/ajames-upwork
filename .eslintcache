[{"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/App.js":"1","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/index.js":"2","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/aws-exports.js":"3","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/Admin.jsx":"4","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/HOCs/PrivacyHOC.jsx":"5","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/Regular.jsx":"6","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/NotFound.jsx":"7","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Routes.jsx":"8","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/Settings.jsx":"9","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/ChangeEmail.jsx":"10","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/libs/hooksLib.jsx":"11","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/libs/errorLib.jsx":"12","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/LoaderButton.jsx":"13","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/ChangePassword.jsx":"14","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/ChangeName.jsx":"15","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/Signup.jsx":"16","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/Login.jsx":"17","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/Alert.jsx":"18"},{"size":7169,"mtime":1608323166212,"results":"19","hashOfConfig":"20"},{"size":412,"mtime":1607624560199,"results":"21","hashOfConfig":"20"},{"size":1174,"mtime":1608313240659,"results":"22","hashOfConfig":"20"},{"size":2887,"mtime":1608323153445,"results":"23","hashOfConfig":"20"},{"size":561,"mtime":1607983579904,"results":"24","hashOfConfig":"20"},{"size":690,"mtime":1608228091909,"results":"25","hashOfConfig":"20"},{"size":243,"mtime":1607618235539,"results":"26","hashOfConfig":"20"},{"size":500,"mtime":1607618666825,"results":"27","hashOfConfig":"20"},{"size":1347,"mtime":1608161512473,"results":"28","hashOfConfig":"20"},{"size":4076,"mtime":1607985226783,"results":"29","hashOfConfig":"20"},{"size":287,"mtime":1607641826340,"results":"30","hashOfConfig":"20"},{"size":444,"mtime":1607642035275,"results":"31","hashOfConfig":"20"},{"size":491,"mtime":1607642376172,"results":"32","hashOfConfig":"20"},{"size":3225,"mtime":1607985247325,"results":"33","hashOfConfig":"20"},{"size":2586,"mtime":1608160949624,"results":"34","hashOfConfig":"20"},{"size":5176,"mtime":1608168541587,"results":"35","hashOfConfig":"20"},{"size":5943,"mtime":1608229101995,"results":"36","hashOfConfig":"20"},{"size":231,"mtime":1608163791010,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"zm2wde",{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"42"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"42"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"42"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/App.js",[],"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/index.js",[],["80","81"],"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/aws-exports.js",[],"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/Admin.jsx",[],"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/HOCs/PrivacyHOC.jsx",[],"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/Regular.jsx",["82"],"// // ./components/Regular.jsx\n\n// // import RegularPrivacyHOC from '../HOCs/RegularPrivacyHOC.jsx'\nimport React from 'react';\nimport { Auth } from 'aws-amplify';\n\n// Bootstrap\nimport { Container } from 'react-bootstrap';\n\nclass Regular extends React.Component {\n    // Retrieve user info\n    render () {\n        return (\n            <Container>\n                {this.props.regular === true && this.props.userInfo &&\n                <div>\n                    <h2>Hello, {this.props.userInfo.attributes.name}</h2> \n                    <h2>You are viewing the non-admin board</h2>\n                </div>\n                }\n            </Container>\n        )\n    }\n};\n\nexport default (Regular);","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/NotFound.jsx",[],"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Routes.jsx",["83"],"import React, { Component } from 'react'\nimport { Route, Switch } from \"react-router-dom\";\nimport Admin from './Components/Admin';\nimport Regular from './Components/Regular'\nimport NotFound from './Components/NotFound'\n\nexport class Routes extends Component {\n    render() {\n        return (\n            <Switch>\n                <Route exact path =\"/\">\n                    <Admin/>\n                    <Regular/>\n                </Route>\n            </Switch>\n        )\n    }\n}\n\nexport default Routes",["84","85"],"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/Settings.jsx",["86"],"import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom';\nimport { LinkContainer } from \"react-router-bootstrap\"; \nimport PrivacyHoc from '../HOCs/PrivacyHOC'\n\n// CSS\nimport './Settings.css'\n\n// Components\nimport LoaderButton from \"./LoaderButton\";\n\n// AWS\nimport { Amplify, API } from \"aws-amplify\";\nimport awsconfig from '../aws-exports';\nAmplify.configure(awsconfig);\n\nexport class Settings extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n          isLoading: \"\", \n          setIsLOading: false\n        };\n      }\n\n    render() {\n        return (\n        <div className=\"Settings\">\n            <LinkContainer to=\"/settings/email\">\n                <LoaderButton block bsSize=\"large\">\n                    Change Email\n                </LoaderButton>\n            </LinkContainer>\n            <LinkContainer to=\"/settings/password\">\n                <LoaderButton block bsSize=\"large\">\n                    Change Password\n                </LoaderButton>\n            </LinkContainer>\n            <LinkContainer to=\"/settings/name\">\n                <LoaderButton block bsSize=\"large\">\n                    Change Name\n                </LoaderButton>\n            </LinkContainer>\n            <hr />\n        </div>\n        )\n    }\n}\n\nexport default withRouter(PrivacyHoc(Settings))","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/ChangeEmail.jsx",[],"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/libs/hooksLib.jsx",[],"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/libs/errorLib.jsx",[],"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/LoaderButton.jsx",[],"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/ChangePassword.jsx",[],"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/ChangeName.jsx",[],"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/Signup.jsx",[],"/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/Login.jsx",["87","88","89"],"// **NOTE**\n// Logging into facebook works and it receives token credentials, but it won't provide permissions to access the Cognito user pool group. It seems you must use the hosted Cognito UI for Federated logins to read the Cognito user pool info. This is a documented issue with no AWS resolution. See https://github.com/aws-amplify/amplify-js/issues/399\n\n\n// Recommended work-around for Facebook federation would be to stick to Cognito hosted UI for login: https://ajamesamplify6627f3d4-6627f3d4-dev.auth.us-east-1.amazoncognito.com/login?response_type=code&client_id=78vpjea306q8ooa5qd74kbint4&redirect_uri=https://main.dgcxtis8n2kl8.amplifyapp.com/\n\n\n// Custom login page (facebook + local)\nimport React, { useState, useEffect } from \"react\";\nimport { Form, Container, Row, Col } from \"react-bootstrap\";\nimport { Link, useHistory, withRouter } from \"react-router-dom\";\n\n// Components\nimport FacebookLogin from 'react-facebook-login';\nimport Button from \"react-bootstrap/Button\";\nimport \"./Login.css\";\n\n// AWS\nimport Amplify, { Auth } from 'aws-amplify';\nimport awsconfig from '../aws-exports';\nAmplify.configure(awsconfig);\n\nfunction Login(props) {\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const FACEBOOK_ID = process.env.FACEBOOK_ID;\n\n  function validateForm() {\n    return email.length > 0 && password.length > 0;\n  }\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n  \n    try {\n      await Auth.signIn(email, password);\n      window.location.href=\"/\"; \n    } catch (e) {\n      alert(e.message);\n    }\n  }\n  \n\n  useEffect(() => {\n    if (!window.FB) createScript();\n    }, [])\n\n    // Facebook Signin\n    const signIn = () => {\n        const fb = window.FB;\n        fb.getLoginStatus(response => {\n            if (response.status === 'connected') {\n                getAWSCredentials(response.authResponse);\n            } else {\n                fb.login(\n                    response => {\n                        if (!response || !response.authResponse) {\n                            return;\n                        }\n                        getAWSCredentials(response.authResponse);\n                    },\n                    {\n                        // the authorized scopes\n                        scope: 'public_profile,email'\n                    }\n                );\n            }\n        });\n    }\n\n    const getAWSCredentials = (response) => {\n        const { accessToken, expiresIn } = response;\n        const date =new Date();\n        const expires_at = expiresIn * 1000 + date.getTime();\n        if (!accessToken) {\n            return;\n        }\n\n        const fb = window.FB;\n        fb.api('/me', { fields: 'name,email' }, response => {\n            const user = {\n                name: response.name,\n                email: response.email\n            };\n            console.log((user))\n            Auth.federatedSignIn('facebook', { token: accessToken, expires_at }, user)\n            .then(credentials => {\n                console.log(credentials);\n                history.push('/')\n            });\n        });\n    }\n\n    const initFB = () => {\n        const fb = window.FB;\n        console.log('FB SDK initialized');\n    }\n\n    const createScript = () => {\n        // load the sdk\n        window.fbAsyncInit = fbAsyncInit;\n        const script = document.createElement('script');\n        script.src = 'https://connect.facebook.net/en_US/sdk.js';\n        script.async = true;\n        script.onload = initFB;\n        document.body.appendChild(script);\n    }\n\n    const fbAsyncInit = () => {\n        // init the fb sdk client\n        const fb = window.FB;\n        fb.init({\n            appId   : process.env.AMPLIFY_FACEBOOK_CLIENT_ID,\n            cookie  : true,\n            xfbml   : true,\n            version : 'v2.11'\n        });\n    }\n    // End facebook login function\n\n  return (\n    <div className=\"Login\">\n        {props.loggedIn === true &&\n        <div>\n            You are already logged in\n        </div>\n        }\n        {props.loggedIn === false &&\n        <Container> \n            <Row className=\"justify-content-md-center\">\n                <Col xs={5.5}>\n                    <div>Sign in with your social media account</div>\n                    <FacebookLogin onClick={() => signIn()}></FacebookLogin>\n                    <div>We won't post to any of your accounts without asking first</div>\n                </Col>\n                <Col xs={1} className=\"my-auto\">\n                    Or\n                </Col>\n                <Col xs={5.5}>\n                    <Form onSubmit={handleSubmit}>\n                        <Form.Group size=\"lg\" controlId=\"email\">\n                            <Form.Label>Email</Form.Label>\n                            <Form.Control\n                                autoFocus\n                                type=\"email\"\n                                value={email}\n                                onChange={(e) => setEmail(e.target.value)}\n                            />\n                        </Form.Group>\n                        <Form.Group size=\"lg\" controlId=\"password\">\n                            <Form.Label>Password</Form.Label>\n                            <Form.Control\n                                type=\"password\"\n                                value={password}\n                                onChange={(e) => setPassword(e.target.value)}\n                            />\n                            Forgot your password? Click here to reset\n                        </Form.Group>\n                        <Button block size=\"lg\" type=\"submit\" disabled={!validateForm()}>\n                        Login\n                        </Button>\n                        <Link to=\"/signup\">Need an account? Sign up</Link>\n                    </Form>\n                </Col>\n            </Row>\n        </Container>\n        }\n    </div>\n  );\n}\n\nexport default withRouter(Login)","/mnt/c/digitalcrafts/upwork-projects/ajames-amplify/src/Components/Alert.jsx",[],{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","replacedBy":"93"},{"ruleId":"94","severity":1,"message":"95","line":5,"column":10,"nodeType":"96","messageId":"97","endLine":5,"endColumn":14},{"ruleId":"94","severity":1,"message":"98","line":5,"column":8,"nodeType":"96","messageId":"97","endLine":5,"endColumn":16},{"ruleId":"90","replacedBy":"99"},{"ruleId":"92","replacedBy":"100"},{"ruleId":"94","severity":1,"message":"101","line":13,"column":19,"nodeType":"96","messageId":"97","endLine":13,"endColumn":22},{"ruleId":"94","severity":1,"message":"102","line":27,"column":9,"nodeType":"96","messageId":"97","endLine":27,"endColumn":20},{"ruleId":"103","severity":1,"message":"104","line":47,"column":8,"nodeType":"105","endLine":47,"endColumn":10,"suggestions":"106"},{"ruleId":"94","severity":1,"message":"107","line":96,"column":15,"nodeType":"96","messageId":"97","endLine":96,"endColumn":17},"no-native-reassign",["108"],"no-negated-in-lhs",["109"],"no-unused-vars","'Auth' is defined but never used.","Identifier","unusedVar","'NotFound' is defined but never used.",["108"],["109"],"'API' is defined but never used.","'FACEBOOK_ID' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'createScript'. Either include it or remove the dependency array.","ArrayExpression",["110"],"'fb' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"111","fix":"112"},"Update the dependencies array to be: [createScript]",{"range":"113","text":"114"},[1685,1687],"[createScript]"]